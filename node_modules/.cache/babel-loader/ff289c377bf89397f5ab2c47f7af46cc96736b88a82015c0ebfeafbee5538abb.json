{"ast":null,"code":"var _jsxFileName = \"D:\\\\GUSTAVO\\\\minimap\\\\src\\\\blocks.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport * as THREE from \"three\";\nimport React, { createContext, useRef, useContext } from \"react\";\nimport { useFrame, useThree } from \"@react-three/fiber\";\nimport state from \"./store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst offsetContext = /*#__PURE__*/createContext(0);\nfunction Block(_ref) {\n  _s();\n  let {\n    children,\n    offset,\n    factor,\n    ...props\n  } = _ref;\n  const {\n    offset: parentOffset,\n    sectionWidth\n  } = useBlock();\n  const ref = useRef();\n  offset = offset !== undefined ? offset : parentOffset;\n  useFrame(() => {\n    const curY = ref.current.position.x;\n    const curTop = state.top.current;\n    ref.current.position.x = THREE.MathUtils.lerp(curY, -curTop / state.zoom * factor, 0.1);\n  });\n  return /*#__PURE__*/_jsxDEV(offsetContext.Provider, {\n    value: offset,\n    children: /*#__PURE__*/_jsxDEV(\"group\", {\n      ...props,\n      position: [sectionWidth * offset * factor, 0, 0],\n      children: /*#__PURE__*/_jsxDEV(\"group\", {\n        ref: ref,\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n_s(Block, \"/EUfuRz9GdsrYfM9y2nA18X4J4s=\", false, function () {\n  return [useBlock, useFrame];\n});\n_c = Block;\nfunction useBlock() {\n  _s2();\n  const {\n    sections,\n    pages,\n    zoom\n  } = state;\n  const {\n    size\n  } = useThree();\n  const offset = useContext(offsetContext);\n  const viewportWidth = size.width;\n  const canvasWidth = size.width / zoom;\n  const mobile = size.width < 700;\n  const contentMaxWidth = canvasWidth * (mobile ? 0.7 : 0.5);\n  const sectionWidth = canvasWidth * ((pages - 1) / (sections - 1));\n  const offsetFactor = (offset + 1.0) / sections;\n  return {\n    offset,\n    viewportWidth,\n    contentMaxWidth,\n    sectionWidth,\n    offsetFactor\n  };\n}\n_s2(useBlock, \"FPn64MzU+A1YajcAxt/y+7gFOyI=\", false, function () {\n  return [useThree];\n});\nexport { Block, useBlock };\nvar _c;\n$RefreshReg$(_c, \"Block\");","map":{"version":3,"names":["THREE","React","createContext","useRef","useContext","useFrame","useThree","state","jsxDEV","_jsxDEV","offsetContext","Block","_ref","_s","children","offset","factor","props","parentOffset","sectionWidth","useBlock","ref","undefined","curY","current","position","x","curTop","top","MathUtils","lerp","zoom","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","_s2","sections","pages","size","viewportWidth","width","canvasWidth","mobile","contentMaxWidth","offsetFactor","$RefreshReg$"],"sources":["D:/GUSTAVO/minimap/src/blocks.js"],"sourcesContent":["import * as THREE from \"three\"\nimport React, { createContext, useRef, useContext } from \"react\"\nimport { useFrame, useThree } from \"@react-three/fiber\"\nimport state from \"./store\"\n\nconst offsetContext = createContext(0)\n\nfunction Block({ children, offset, factor, ...props }) {\n  const { offset: parentOffset, sectionWidth } = useBlock()\n  const ref = useRef()\n  offset = offset !== undefined ? offset : parentOffset\n  useFrame(() => {\n    const curY = ref.current.position.x\n    const curTop = state.top.current\n    ref.current.position.x = THREE.MathUtils.lerp(curY, (-curTop / state.zoom) * factor, 0.1)\n  })\n  return (\n    <offsetContext.Provider value={offset}>\n      <group {...props} position={[sectionWidth * offset * factor, 0, 0]}>\n        <group ref={ref}>{children}</group>\n      </group>\n    </offsetContext.Provider>\n  )\n}\n\nfunction useBlock() {\n  const { sections, pages, zoom } = state\n  const { size } = useThree()\n  const offset = useContext(offsetContext)\n  const viewportWidth = size.width\n  const canvasWidth = size.width / zoom\n  const mobile = size.width < 700\n  const contentMaxWidth = canvasWidth * (mobile ? 0.7 : 0.5)\n  const sectionWidth = canvasWidth * ((pages - 1) / (sections - 1))\n  const offsetFactor = (offset + 1.0) / sections\n  return {\n    offset,\n    viewportWidth,\n    contentMaxWidth,\n    sectionWidth,\n    offsetFactor\n  }\n}\n\nexport { Block, useBlock }\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}